<!DOCTYPE html><html><head>
      <title>03.generic_programming</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      
      <link rel="stylesheet" href="file:////home/tanvir/.vscode/extensions/shd101wyy.markdown-preview-enhanced-0.5.17/node_modules/@shd101wyy/mume/dependencies/katex/katex.min.css">
      
      
      
      
      
      
      
      
      
      <style>
      /* http://prismjs.com/download.html?themes=prism&languages=markup+css+clike+javascript+abap+actionscript+ada+apacheconf+apl+applescript+asciidoc+aspnet+autoit+autohotkey+bash+basic+batch+c+brainfuck+bro+bison+csharp+cpp+coffeescript+ruby+css-extras+d+dart+django+diff+docker+eiffel+elixir+erlang+fsharp+fortran+gherkin+git+glsl+go+graphql+groovy+haml+handlebars+haskell+haxe+http+icon+inform7+ini+j+jade+java+jolie+json+julia+keyman+kotlin+latex+less+livescript+lolcode+lua+makefile+markdown+matlab+mel+mizar+monkey+nasm+nginx+nim+nix+nsis+objectivec+ocaml+oz+parigp+parser+pascal+perl+php+php-extras+powershell+processing+prolog+properties+protobuf+puppet+pure+python+q+qore+r+jsx+reason+rest+rip+roboconf+crystal+rust+sas+sass+scss+scala+scheme+smalltalk+smarty+sql+stylus+swift+tcl+textile+twig+typescript+vbnet+verilog+vhdl+vim+wiki+xojo+yaml */
/**
 * prism.js default theme for JavaScript, CSS and HTML
 * Based on dabblet (http://dabblet.com)
 * @author Lea Verou
 */

code[class*="language-"],
pre[class*="language-"] {
	color: black;
	background: none;
	text-shadow: 0 1px white;
	font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
	text-align: left;
	white-space: pre;
	word-spacing: normal;
	word-break: normal;
	word-wrap: normal;
	line-height: 1.5;

	-moz-tab-size: 4;
	-o-tab-size: 4;
	tab-size: 4;

	-webkit-hyphens: none;
	-moz-hyphens: none;
	-ms-hyphens: none;
	hyphens: none;
}

pre[class*="language-"]::-moz-selection, pre[class*="language-"] ::-moz-selection,
code[class*="language-"]::-moz-selection, code[class*="language-"] ::-moz-selection {
	text-shadow: none;
	background: #b3d4fc;
}

pre[class*="language-"]::selection, pre[class*="language-"] ::selection,
code[class*="language-"]::selection, code[class*="language-"] ::selection {
	text-shadow: none;
	background: #b3d4fc;
}

@media print {
	code[class*="language-"],
	pre[class*="language-"] {
		text-shadow: none;
	}
}

/* Code blocks */
pre[class*="language-"] {
	padding: 1em;
	margin: .5em 0;
	overflow: auto;
}

:not(pre) > code[class*="language-"],
pre[class*="language-"] {
	background: #f5f2f0;
}

/* Inline code */
:not(pre) > code[class*="language-"] {
	padding: .1em;
	border-radius: .3em;
	white-space: normal;
}

.token.comment,
.token.prolog,
.token.doctype,
.token.cdata {
	color: slategray;
}

.token.punctuation {
	color: #999;
}

.namespace {
	opacity: .7;
}

.token.property,
.token.tag,
.token.boolean,
.token.number,
.token.constant,
.token.symbol,
.token.deleted {
	color: #905;
}

.token.selector,
.token.attr-name,
.token.string,
.token.char,
.token.builtin,
.token.inserted {
	color: #690;
}

.token.operator,
.token.entity,
.token.url,
.language-css .token.string,
.style .token.string {
	color: #a67f59;
	background: hsla(0, 0%, 100%, .5);
}

.token.atrule,
.token.attr-value,
.token.keyword {
	color: #07a;
}

.token.function {
	color: #DD4A68;
}

.token.regex,
.token.important,
.token.variable {
	color: #e90;
}

.token.important,
.token.bold {
	font-weight: bold;
}
.token.italic {
	font-style: italic;
}

.token.entity {
	cursor: help;
}

/* highlight */
pre[data-line] {
	position: relative;
	padding: 1em 0 1em 3em;
  }
  pre[data-line] .line-highlight-wrapper {
	position: absolute;
	top: 0;
	left: 0;
	background-color: transparent;
	display: block;
	width: 100%;
  }
  
  pre[data-line] .line-highlight {
	position: absolute;
	left: 0;
	right: 0;
	padding: inherit 0;
	margin-top: 1em;
	background: hsla(24, 20%, 50%,.08);
	background: linear-gradient(to right, hsla(24, 20%, 50%,.1) 70%, hsla(24, 20%, 50%,0));
	pointer-events: none;
	line-height: inherit;
	white-space: pre;
  }
  
  pre[data-line] .line-highlight:before, 
  pre[data-line] .line-highlight[data-end]:after {
	content: attr(data-start);
	position: absolute;
	top: .4em;
	left: .6em;
	min-width: 1em;
	padding: 0 .5em;
	background-color: hsla(24, 20%, 50%,.4);
	color: hsl(24, 20%, 95%);
	font: bold 65%/1.5 sans-serif;
	text-align: center;
	vertical-align: .3em;
	border-radius: 999px;
	text-shadow: none;
	box-shadow: 0 1px white;
  }
  
  pre[data-line] .line-highlight[data-end]:after {
	content: attr(data-end);
	top: auto;
	bottom: .4em;
  }@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:400;src:local('Roboto Mono'),local('RobotoMono-Regular'),url(https://fonts.gstatic.com/s/robotomono/v7/L0x5DF4xlVMF-BfR8bXMIjhLq3o.ttf) format('truetype')}@font-face{font-family:'Source Sans Pro';font-style:normal;font-weight:300;src:local('Source Sans Pro Light'),local('SourceSansPro-Light'),url(https://fonts.gstatic.com/s/sourcesanspro/v13/6xKydSBYKcSV-LCoeQqfX1RYOo3ik4zwlxdr.ttf) format('truetype')}@font-face{font-family:'Source Sans Pro';font-style:normal;font-weight:400;src:local('Source Sans Pro Regular'),local('SourceSansPro-Regular'),url(https://fonts.gstatic.com/s/sourcesanspro/v13/6xK3dSBYKcSV-LCoeQqfX1RYOo3qOK7g.ttf) format('truetype')}@font-face{font-family:'Source Sans Pro';font-style:normal;font-weight:600;src:local('Source Sans Pro SemiBold'),local('SourceSansPro-SemiBold'),url(https://fonts.gstatic.com/s/sourcesanspro/v13/6xKydSBYKcSV-LCoeQqfX1RYOo3i54rwlxdr.ttf) format('truetype')}*{-webkit-font-smoothing:antialiased;-webkit-overflow-scrolling:touch;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-text-size-adjust:none;-webkit-touch-callout:none;box-sizing:border-box}body:not(.ready){overflow:hidden}body:not(.ready) .app-nav,body:not(.ready)>nav,body:not(.ready) [data-cloak]{display:none}div#app{font-size:30px;font-weight:lighter;margin:40vh auto;text-align:center}div#app:empty:before{content:"Loading..."}.emoji{height:19.2px;height:1.2rem;vertical-align:middle}.progress{background-color:#42b983;background-color:var(--theme-color, #42b983);height:2px;left:0;position:fixed;right:0;top:0;transition:width .2s,opacity .4s;width:0;z-index:5}.search .search-keyword,.search a:hover{color:#42b983;color:var(--theme-color, #42b983)}.search .search-keyword{font-style:normal;font-weight:700}body,html{height:100%}body{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:#34495e;font-family:Source Sans Pro,Helvetica Neue,Arial,sans-serif;font-size:15px;letter-spacing:0;margin:0;overflow-x:hidden}img{max-width:100%}a[disabled]{cursor:not-allowed;opacity:.6}kbd{color:#34495e;border:1px solid #ccc;border-radius:3px;display:inline-block;font-size:12px !important;line-height:12px;margin-bottom:3px;padding:3px 5px;vertical-align:middle}.task-list-item{list-style-type:none}li input[type=checkbox]{margin:0 .2em .25em -1.6em;vertical-align:middle}.app-nav{left:0;margin:25px 60px 0 0;position:absolute;right:0;text-align:right;z-index:2}.app-nav p{margin:0}.app-nav>a{margin:0 16px;margin:0 1rem;padding:5px 0}.app-nav li,.app-nav ul{display:inline-block;list-style:none;margin:0}.app-nav a{color:inherit;font-size:16px;text-decoration:none;transition:color .3s}.app-nav a.active,.app-nav a:hover{color:#42b983;color:var(--theme-color, #42b983)}.app-nav a.active{border-bottom:2px solid #42b983;border-bottom:2px solid var(--theme-color, #42b983)}.app-nav li{display:inline-block;margin:0 16px;margin:0 1rem;padding:5px 0;position:relative}.app-nav li ul{background-color:#fff;border:1px solid #ddd;border-bottom-color:#ccc;border-radius:4px;box-sizing:border-box;display:none;max-height:calc(100vh - 61px);overflow-y:scroll;padding:10px 0;position:absolute;right:-15px;text-align:left;top:100%;white-space:nowrap}.app-nav li ul li{display:block;font-size:14px;line-height:16px;line-height:1rem;margin:0;margin:8px 14px;white-space:nowrap}.app-nav li ul a{display:block;font-size:inherit;margin:0;padding:0}.app-nav li ul a.active{border-bottom:0}.app-nav li:hover ul{display:block}.app-nav.no-badge{margin-right:25px}.github-corner{border-bottom:0;position:fixed;right:0;text-decoration:none;top:0;z-index:1}.github-corner svg{color:#fff;fill:#42b983;fill:var(--theme-color, #42b983);height:80px;width:80px}.github-corner:hover .octo-arm{-webkit-animation:a .56s ease-in-out;animation:a .56s ease-in-out}main{display:block;position:relative;width:100vw;height:100%;z-index:0}.anchor{display:inline-block;text-decoration:none;transition:all .3s}.anchor span{color:#34495e}.anchor:hover{text-decoration:underline}.sidebar{border-right:1px solid rgba(0,0,0,0.07);overflow-y:auto;padding:40px 0 0;top:0;bottom:0;left:0;position:absolute;transition:-webkit-transform .25s ease-out;transition:transform .25s ease-out;transition:transform .25s ease-out,-webkit-transform .25s ease-out;width:300px;z-index:3}.sidebar>h1{margin:0 auto 16px;margin:0 auto 1rem;font-size:24px;font-size:1.5rem;font-weight:300;text-align:center}.sidebar>h1 a{color:inherit;text-decoration:none}.sidebar>h1 .app-nav{display:block;position:static}.sidebar .sidebar-nav{line-height:2em;padding-bottom:40px}.sidebar ul{margin:0;padding:0}.sidebar li>p{font-weight:700;margin:0}.sidebar ul,.sidebar ul li{list-style:none}.sidebar ul li a{border-bottom:none;display:block}.sidebar ul li ul{padding-left:20px}.sidebar::-webkit-scrollbar{width:4px}.sidebar::-webkit-scrollbar-thumb{background:transparent;border-radius:4px}.sidebar:hover::-webkit-scrollbar-thumb{background:hsla(0,0%,53%,0.4)}.sidebar:hover::-webkit-scrollbar-track{background:hsla(0,0%,53%,0.1)}.sidebar-toggle{background-color:transparent;background-color:hsla(0,0%,100%,0.8);border:0;outline:none;padding:10px;bottom:0;left:0;position:absolute;text-align:center;transition:opacity .3s;width:30px;width:284px;z-index:4}.sidebar-toggle .sidebar-toggle-button:hover{opacity:.4}.sidebar-toggle span{background-color:#42b983;background-color:var(--theme-color, #42b983);display:block;margin-bottom:4px;width:16px;height:2px}body.sticky .sidebar,body.sticky .sidebar-toggle{position:fixed}.content{padding-top:60px;top:0;right:0;bottom:0;left:300px;position:absolute;transition:left .25s ease}.markdown-preview>*{box-sizing:border-box;font-size:inherit}.markdown-preview>:first-child{margin-top:0 !important}.markdown-preview hr{border:none;border-bottom:1px solid #eee;margin:2em 0}.markdown-preview table{border-collapse:collapse;border-spacing:0;display:block;margin-bottom:16px;margin-bottom:1rem;overflow:auto;width:100%}.markdown-preview th{font-weight:700}.markdown-preview td,.markdown-preview th{border:1px solid #ddd;padding:6px 13px}.markdown-preview tr{border-top:1px solid #ccc}.markdown-preview p.tip,.markdown-preview tr:nth-child(2n){background-color:#f8f8f8}.markdown-preview p.tip{border-bottom-right-radius:2px;border-left:4px solid #f66;border-top-right-radius:2px;margin:2em 0;padding:12px 24px 12px 30px;position:relative}.markdown-preview p.tip code{background-color:#efefef}.markdown-preview p.tip em{color:#34495e}.markdown-preview p.tip:before{background-color:#f66;border-radius:100%;color:#fff;content:"!";font-family:Dosis,Source Sans Pro,Helvetica Neue,Arial,sans-serif;font-size:14px;font-weight:700;left:-12px;line-height:20px;position:absolute;width:20px;height:20px;text-align:center;top:14px}.markdown-preview p.warn{background:rgba(66,185,131,0.1);border-radius:2px;padding:16px;padding:1rem}body.close .sidebar{-webkit-transform:translateX(-300px);transform:translateX(-300px)}body.close .sidebar-toggle{width:auto}body.close .content{left:0}@media print{.app-nav,.github-corner,.sidebar,.sidebar-toggle{display:none}}@media screen and (max-width:768px){.github-corner,.sidebar,.sidebar-toggle{position:fixed}.app-nav{margin-top:16px}.app-nav li ul{top:30px}main{height:auto;overflow-x:hidden}.sidebar{left:-300px;transition:-webkit-transform .25s ease-out;transition:transform .25s ease-out;transition:transform .25s ease-out,-webkit-transform .25s ease-out}.content{left:0;max-width:100vw;position:static;padding-top:20px;transition:-webkit-transform .25s ease;transition:transform .25s ease;transition:transform .25s ease,-webkit-transform .25s ease}.app-nav,.github-corner{transition:-webkit-transform .25s ease-out;transition:transform .25s ease-out;transition:transform .25s ease-out,-webkit-transform .25s ease-out}.sidebar-toggle{background-color:transparent;width:auto;padding:30px 30px 10px 10px}body.close .sidebar{-webkit-transform:translateX(300px);transform:translateX(300px)}body.close .sidebar-toggle{background-color:hsla(0,0%,100%,0.8);transition:background-color 1s;width:284px;padding:10px}body.close .content{-webkit-transform:translateX(300px);transform:translateX(300px)}body.close .app-nav,body.close .github-corner{display:none}.github-corner .octo-arm{-webkit-animation:a .56s ease-in-out;animation:a .56s ease-in-out}.github-corner:hover .octo-arm{-webkit-animation:none;animation:none}}@-webkit-keyframes a{0%,to{-webkit-transform:rotate(0);transform:rotate(0)}20%,60%{-webkit-transform:rotate(-25deg);transform:rotate(-25deg)}40%,80%{-webkit-transform:rotate(10deg);transform:rotate(10deg)}}@keyframes a{0%,to{-webkit-transform:rotate(0);transform:rotate(0)}20%,60%{-webkit-transform:rotate(-25deg);transform:rotate(-25deg)}40%,80%{-webkit-transform:rotate(10deg);transform:rotate(10deg)}}section.cover{-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-position:50%;background-repeat:no-repeat;background-size:cover;height:100vh;display:none}section.cover .cover-main{-webkit-box-flex:1;-ms-flex:1;flex:1;margin:-20px 16px 0;text-align:center;z-index:1}section.cover a{color:inherit}section.cover a,section.cover a:hover{text-decoration:none}section.cover p{line-height:24px;line-height:1.5rem;margin:1em 0}section.cover h1{color:inherit;font-size:40px;font-size:2.5rem;font-weight:300;margin:10px 0 40px;margin:.625rem 0 2.5rem;position:relative;text-align:center}section.cover h1 a{display:block}section.cover h1 small{bottom:-7px;bottom:-0.4375rem;font-size:16px;font-size:1rem;position:absolute}section.cover blockquote{font-size:24px;font-size:1.5rem;text-align:center}section.cover ul{line-height:1.8;list-style-type:none;margin:1em auto;max-width:500px;padding:0}section.cover .cover-main>p:last-child a{border-color:#42b983;border:1px solid var(--theme-color, #42b983);border-radius:2rem;box-sizing:border-box;color:#42b983;color:var(--theme-color, #42b983);display:inline-block;font-size:16.8px;font-size:1.05rem;letter-spacing:1.6px;letter-spacing:.1rem;margin-right:16px;margin-right:1rem;padding:.75em 32px;padding:.75em 2rem;text-decoration:none;transition:all .15s ease}section.cover .cover-main>p:last-child a:last-child{background-color:#42b983;background-color:var(--theme-color, #42b983);color:#fff;margin-right:0}section.cover .cover-main>p:last-child a:last-child:hover{color:inherit;opacity:.8}section.cover .cover-main>p:last-child a:hover{color:inherit}section.cover blockquote>p>a{border-bottom:2px solid #42b983;border-bottom:2px solid var(--theme-color, #42b983);transition:color .3s}section.cover blockquote>p>a:hover{color:#42b983;color:var(--theme-color, #42b983)}section.cover.show{display:-webkit-box;display:-ms-flexbox;display:flex}section.cover.has-mask .mask{background-color:#fff;opacity:.8;position:absolute;width:100%;height:100%}.sidebar,body{background-color:#fff}.sidebar{color:#364149}.sidebar li{margin:6px 0 6px 15px}.sidebar ul li a{color:#505d6b;font-size:14px;font-weight:400;overflow:hidden;text-decoration:none;text-overflow:ellipsis;white-space:nowrap}.sidebar ul li a:hover{text-decoration:underline}.sidebar ul li ul{padding:0}.sidebar ul li.active>a{border-right:2px solid;color:#42b983;color:var(--theme-color, #42b983);font-weight:600}.app-sub-sidebar li:before{content:"-";padding-right:4px;float:left}.markdown-preview h1,.markdown-preview h2,.markdown-preview h3,.markdown-preview h4,.markdown-preview strong{color:#2c3e50;font-weight:600}.markdown-preview a{color:#42b983;color:var(--theme-color, #42b983);font-weight:600}.md-sidebar-toc a{color:#42b983;font-weight:600}.markdown-preview h1{font-size:32px;font-size:2rem;margin:0 0 16px;margin:0 0 1rem}.markdown-preview h2{font-size:28px;font-size:1.75rem;margin:45px 0 12.8px;margin:45px 0 .8rem}.markdown-preview h3{font-size:24px;font-size:1.5rem;margin:40px 0 9.6px;margin:40px 0 .6rem}.markdown-preview h4{font-size:20px;font-size:1.25rem}.markdown-preview h5,.markdown-preview h6{font-size:16px;font-size:1rem}.markdown-preview h6{color:#777}.markdown-preview figure,.markdown-preview p{margin:1.2em 0}.markdown-preview ol,.markdown-preview p,.markdown-preview ul{line-height:25.6px;line-height:1.6rem;word-spacing:.8px;word-spacing:.05rem}.markdown-preview ol,.markdown-preview ul{padding-left:24px;padding-left:1.5rem}.markdown-preview blockquote{border-left:4px solid #42b983;border-left:4px solid var(--theme-color, #42b983);color:#858585;background-color:#f0f0f0;margin:2em 0;padding-left:20px}.markdown-preview blockquote p{font-weight:600;margin-left:0}.markdown-preview iframe{margin:1em 0}.markdown-preview em{color:#7f8c8d}.markdown-preview{width:100%;height:100%;box-sizing:border-box}.markdown-preview .pagebreak,.markdown-preview .newpage{page-break-before:always}.markdown-preview pre.line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}.markdown-preview pre.line-numbers>code{position:relative}.markdown-preview pre.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:1em;font-size:100%;left:0;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.markdown-preview pre.line-numbers .line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.markdown-preview pre.line-numbers .line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}.markdown-preview .mathjax-exps .MathJax_Display{text-align:center !important}.markdown-preview:not([for="preview"]) .code-chunk .btn-group{display:none}.markdown-preview:not([for="preview"]) .code-chunk .status{display:none}.markdown-preview:not([for="preview"]) .code-chunk .output-div{margin-bottom:16px}.scrollbar-style::-webkit-scrollbar{width:8px}.scrollbar-style::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}.scrollbar-style::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,0.66);border:4px solid rgba(150,150,150,0.66);background-clip:content-box}html body[for="html-export"]:not([data-presentation-mode]){position:relative;width:100%;height:100%;top:0;left:0;margin:0;padding:0;overflow:auto}html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{position:relative;top:0}@media screen and (min-width:914px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{padding:2em calc(50% - 457px + 2em)}}@media screen and (max-width:914px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{font-size:14px !important;padding:1em}}@media print{html body[for="html-export"]:not([data-presentation-mode]) #sidebar-toc-btn{display:none}}html body[for="html-export"]:not([data-presentation-mode]) #sidebar-toc-btn{position:fixed;bottom:8px;left:8px;font-size:28px;cursor:pointer;color:inherit;z-index:99;width:32px;text-align:center;opacity:.4}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] #sidebar-toc-btn{opacity:1}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc{position:fixed;top:0;left:0;width:300px;height:100%;padding:32px 0 48px 0;font-size:14px;box-shadow:0 0 4px rgba(150,150,150,0.33);box-sizing:border-box;overflow:auto;background-color:inherit}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar{width:8px}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,0.66);border:4px solid rgba(150,150,150,0.66);background-clip:content-box}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc a{text-decoration:none}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc ul{padding:0 1.6em;margin-top:.8em}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc li{margin-bottom:.8em}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc ul{list-style-type:none}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{left:300px;width:calc(100% -  300px);padding:2em calc(50% - 457px -  150px);margin:0;box-sizing:border-box}@media screen and (max-width:1274px){html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{width:100%}}html body[for="html-export"]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .markdown-preview{left:50%;transform:translateX(-50%)}html body[for="html-export"]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .md-sidebar-toc{display:none}
/* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */
.markdown-preview.markdown-preview {
  color: rgba(0, 0, 0, 0.712);
}
.markdown-preview.markdown-preview .markdown-preview a:hover {
  color: blue;
  text-decoration: underline;
}
.markdown-preview.markdown-preview pre[data-role="codeBlock"] {
  font-size: 13px !important;
  background-color: whitesmoke;
}
.markdown-preview.markdown-preview h1 {
  color: #116062;
  font-size: 40px;
  font-weight: 50;
  margin-bottom: -6px;
  margin-top: -6px;
  font-family: "Anton";
  font-style: italic;
}
.markdown-preview.markdown-preview h2 {
  color: #020202;
  font-size: 20px;
  margin-bottom: 0px;
  margin-top: 0px;
  font-family: "Microsoft Yahei";
  font-style: italic;
}
.markdown-preview.markdown-preview h3 {
  color: #020202;
  font-size: 15px;
  margin-bottom: 0px;
  margin-top: 0px;
  font-family: "Microsoft Yahei";
  font-style: normal;
}
.markdown-preview.markdown-preview code {
  color: rgba(110, 5, 5, 0.739);
  font-weight: 550;
}
.markdown-preview.markdown-preview blockquote {
  margin-bottom: 40px;
  margin-top: 30px;
  background-color: #ffffff;
  padding: 0.3px;
  padding-left: 5px;
}
.markdown-preview.markdown-preview blockquote p {
  color: #5f0303;
  font-size: 14px;
  font-family: "Microsoft Yahei";
  font-style: italic;
  font-weight: 100;
  line-height: 1.5;
}
@media print {
  .markdown-preview.markdown-preview {
    font-size: 18px;
  }
}

      </style>
    </head>
    <body for="html-export">
      <div class="mume markdown-preview  ">
      <p><a id="julia_basics" href></a></p>
<div id="juiacourse" style="text-align:right;">
        <a href title>
                <img style="border-radius: 10px 50px;" height="70" width="140" src="../other_files/julia-2.jpg" alt="julalogo">
        </a>
</div>
<h1 class="mume-header" id="3-generic-programming">3. Generic programming;</h1>

<div class="code-chunk" data-id="code-chunk-id-0" data-cmd="toc"><div class="input-div"><div class="btn-group"><div class="run-btn btn"><span>&#x25B6;&#xFE0E;</span></div><div class="run-all-btn btn">all</div></div><div class="status">running...</div></div><div class="output-div"></div></div><ul>
<li><a href="#3-generic-programming">3. Generic programming;</a>
<ul>
<li><a href="#1-problem-of-random-walk">1. Problem of Random Walk</a></li>
<li><a href="#2-lets-code-it-for-one">2. Let&apos;s code it for one</a></li>
<li><a href="#3-generalizing-the-function-for-2d-walker">3. Generalizing the function for 2D walker.</a></li>
<li><a href="#exercises">Exercises</a>
<ul>
<li><a href="#1-two-walkers-in-1d">1. Two walkers in 1D</a></li>
</ul>
</li>
<li><a href="#counting-the-number-of-times-the-walker-passes-a-point">Counting the number of times the walker passes a point</a></li>
<li><a href="#references">References</a></li>
</ul>
</li>
</ul>
<p>In this chapter we will talk about Generic programming. The core idea is we want to avoid copying pasting code multiple times, and take functions as arguments of another function. Let&apos;s start with a simple problem of random walk.</p>
<h2 class="mume-header" id="1-problem-of-random-walk">1. Problem of Random Walk</h2>

<p>Let&apos;s think about a problem called <strong>random walk</strong>. A random walk describes a <strong>path</strong> that consists of a succession of random steps on some mathematical spaces such as the integers.</p>
<p>An elementary example of a random walk is the random walk on the integer number line, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="double-struck">Z</mi></mrow><annotation encoding="application/x-tex">\mathbb{Z}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68889em;vertical-align:0em;"></span><span class="mord mathbb">Z</span></span></span></span>,  which starts at 0 and at each step moves +1 or &#x2212;1 with equal probability. So we can start thinking about a walker which will walk in this random path. Thinking initially about <strong>only a single walker</strong>, here is how could we <strong>simulate</strong> this. We will run following <strong>algorithm.</strong></p>
<pre data-role="codeBlock" data-info class="language-"><code>1. Initialise the walker


1. At each step:
    1. move the walker
    2. store the current position


2. Repeat from step 1
</code></pre><p>Now think about the problem of writing a generic code that might work regardless of in which dimension, the random walker walks. So the walker could walk in one dimensional line (1D), in a two-dimensional plane (2D), in a three-dimensional space (3D) and so on. So Ideally we would write our code in such a way that it has this structure but is more or less agnostic (unaware) about  <em>where</em>, the random walker walks, whether it is 1D, 2D, or even in a network, that does not matter. This is called <strong>generic programming</strong>. That is we will write code that will work in some generic context, and we avoid copying + pasting code, when the nature of the problem is same.</p>
<h2 class="mume-header" id="2-lets-code-it-for-one">2. Let&apos;s code it for one</h2>

<p>So a walker needs to initialize himself/herself and move on. So we can think about two functions, <code>initialize()</code> and <code>move()</code>, then applying these two functions he/she will get the new position and then walk again, and in this process we can save the trajectory! Here us how the function will look like!</p>
<pre data-role="codeBlock" data-info="julia" class="language-julia"><span class="token comment"># CodeBlock1.</span>

<span class="token string">&quot;Simulate a walk for `T` steps.&quot;</span>
<span class="token keyword">function</span> walk<span class="token punctuation">(</span>T<span class="token punctuation">)</span>
    pos <span class="token operator">=</span> initialize<span class="token punctuation">(</span><span class="token punctuation">)</span>
    
    trajectory <span class="token operator">=</span> <span class="token punctuation">[</span>pos<span class="token punctuation">]</span>    <span class="token comment"># make a Vector that contains just the current value of `pos`</span>
    
    <span class="token keyword">for</span> t <span class="token keyword">in</span> <span class="token number">1</span><span class="token punctuation">:</span>T
        new_pos <span class="token operator">=</span> move<span class="token punctuation">(</span>pos<span class="token punctuation">)</span>
        push<span class="token operator">!</span><span class="token punctuation">(</span>trajectory<span class="token punctuation">,</span> new_pos<span class="token punctuation">)</span>   <span class="token comment"># append to the Vector</span>
        
        pos <span class="token operator">=</span> new_pos     <span class="token comment"># update for next iteration</span>
    <span class="token keyword">end</span>
    
    <span class="token keyword">return</span> trajectory
<span class="token keyword">end</span>
</pre><p>Note, we gave a &quot;docstring&quot; before the function for a good documentation!, this means now with Julia&apos;s help we can also see the details of the function.</p>
<pre data-role="codeBlock" data-info="julia" class="language-julia"><span class="token comment"># CodeBlock2.</span>
<span class="token punctuation">?</span>walk
</pre><p>Can we run the function and get the trajectory for <code>T</code> times? See the function and think maybe? Let&apos;s try,</p>
<pre data-role="codeBlock" data-info="julia" class="language-julia"><span class="token comment"># CodeBlock3.</span>
walk<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>
</pre><p>You will get the following error</p>
<pre data-role="codeBlock" data-info="julia" class="language-julia">julia<span class="token operator">&gt;</span> walk<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>
<span class="token comment"># ERROR: UndefVarError: initialize not defined</span>
<span class="token comment"># Stacktrace:</span>
<span class="token comment">#  [1] walk(::Int64) at ./REPL[13]:3</span>
<span class="token comment">#  [2] top-level scope at REPL[15]:1</span>

</pre><p>What happened? Look at the error it says &quot;initialize not defined&quot;. Of course both <code>initialize</code> and <code>move</code> are the functions we just made up, so in Julia there is no such function yet. So this means there&apos;s no problem to define a function which has unknown function inside, so in principle as long as the syntax is ok, we can define a function more or less in free way, it does not constrain to the scenario that we have to define everything before. However, when we will call it, this is going to be executed, but that is not possible because in this case the functions inside don&apos;t exist yet.</p>
<p>Now we will define the two functions. Let&apos;s think about a random walker moving in 1D. It starts at the origin (0) and jumps left or right with equal probability at each step:</p>
<pre data-role="codeBlock" data-info="julia" class="language-julia"><span class="token comment"># CodeBlock4.</span>

<span class="token comment"># 1D walker</span>

initialize<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">0</span> <span class="token comment">## note if I define init = 0, this will be a vriable, </span>

random_jump<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> rand<span class="token punctuation">(</span> <span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token comment"># generate +1 or -1 randomly</span>

move<span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token operator">=</span> x <span class="token operator">+</span> random_jump<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&apos;</span>
</pre><p>here is the output,</p>
<pre data-role="codeBlock" data-info="julia" class="language-julia">julia<span class="token operator">&gt;</span> initialize<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">0</span> 
<span class="token comment"># initialize (generic function with 1 method)</span>

julia<span class="token operator">&gt;</span> random_jump<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> rand<span class="token punctuation">(</span> <span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">)</span> 
<span class="token comment"># random_jump (generic function with 1 method)</span>

julia<span class="token operator">&gt;</span> move<span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token operator">=</span> x <span class="token operator">+</span> random_jump<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># move (generic function with 1 method)</span>

</pre><p>&#x270B; Questions:</p>
<ul>
<li>Why did we use tuple?</li>
<li>It seems like the function <code>random_jump()</code> is redundant for the function <code>move()</code> in principle we could write <code>move(x) = x + rand( (-1, +1) )</code>. So what is the benefit? Or more importantly is there any problem defining many small such functions, which will be combined at the end?</li>
</ul>
<p>&#x1F6E9;&#xFE0F; Answers:</p>
<p>&#x270D;&#xFE0F; - Tuples are amazingly memory efficient. They do not allocate anything in the memory. In fact in this case they do not even produce an array, rather they generate some kind of expression (something like a string, we will see this later), which is called <code>Generators</code> and then evaluate and give us the result. Generators can produce values on demand, instead of allocating an array and storing them in advance. Let&apos;s have a look at some examples,</p>
<pre data-role="codeBlock" data-info="julia" class="language-julia"><span class="token comment"># CodeBlock5.</span>

<span class="token keyword">using</span> BenchmarkTools

<span class="token keyword">function</span> tuple_check<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">:</span><span class="token number">100</span>
        a <span class="token operator">=</span> sum<span class="token punctuation">(</span> <span class="token punctuation">(</span>rand<span class="token punctuation">(</span>Float64<span class="token punctuation">)</span> <span class="token keyword">for</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">:</span><span class="token number">10</span><span class="token operator">^</span><span class="token number">2</span> <span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">end</span>
<span class="token keyword">end</span>

@btime tuple_check<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">## Ok my PC crashed! </span>

<span class="token keyword">function</span> array_check<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">:</span><span class="token number">100</span>
        a <span class="token operator">=</span> sum<span class="token punctuation">(</span> <span class="token punctuation">[</span>rand<span class="token punctuation">(</span>Float64<span class="token punctuation">)</span> <span class="token keyword">for</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">:</span><span class="token number">10</span><span class="token operator">^</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token punctuation">)</span>
    <span class="token keyword">end</span>
<span class="token keyword">end</span>

@btime array_check<span class="token punctuation">(</span><span class="token punctuation">)</span>


@btime <span class="token keyword">begin</span>
    <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
<span class="token keyword">end</span>


<span class="token comment"># if you want to have the length of 100 tuple, but not the generator, you cam always</span>
<span class="token comment"># use the Tuple function!</span>


Tuple<span class="token punctuation">(</span> <span class="token punctuation">(</span>rand<span class="token punctuation">(</span>Float64<span class="token punctuation">)</span> <span class="token keyword">for</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">:</span><span class="token number">10</span><span class="token operator">^</span><span class="token number">2</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span>

</pre><p>Here is the comparison using the <code>BenchmarkTool</code> package</p>
<pre data-role="codeBlock" data-info="julia" class="language-julia">julia<span class="token operator">&gt;</span> @btime tuple_check<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">#   40.055 &#x3BC;s (0 allocations: 0 bytes)</span>

julia<span class="token operator">&gt;</span> @btime array_check<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">#   44.457 &#x3BC;s (100 allocations: 87.50 KiB)</span>

</pre><p>So in principle we could use an array, but we intentionally did not to have a better performance.</p>
<pre data-role="codeBlock" data-info="julia" class="language-julia"><span class="token comment"># CodeBlock6.</span>
rand<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
rand<span class="token punctuation">(</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span> <span class="token punctuation">)</span>
</pre><ul>
<li>Now let&apos;s answer the other question, why did we use a seemingly redundant function. The reason is, for the small functions like this there is absolutely no harm because Julia compiler will do what is called <code>inling</code>, roughly this means that, it will combine some functions in one-line and execute it something similar to a one line function. So you might think that writing too many functions might have some overhead issues, but in these cases it does not face this issue. So with small functions you should write as many functions as you need to make your clear, and this should not be any problem. We can also see this inlining in some cases, and the macro for this is <code>@code_typed</code> (which show just after the optmization is done in the compilation pipeline)</li>
</ul>
<pre data-role="codeBlock" data-info="julia" class="language-julia"><span class="token comment"># CodeBlock7.</span>
<span class="token comment"># recall the old functions</span>
<span class="token comment"># random_jump() = rand( (-1, +1) ) # generate +1 or -1 randomly</span>
<span class="token comment"># move(x) = x + random_jump()&apos;</span>

@code_typed move<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
</pre><p>So inlining is a nice feature, this is a quote from Professor Sanders</p>
<blockquote>
<p>It is idiomatic (i.e. regarded as good programming style) in Julia to define tiny functions like this that do one little thing. Note that <em>there is no cost</em> to doing so: Julia will <em>inline</em> such functions, removing the function-call overhead that you might have in other languages.</p>
</blockquote>
<p>Having defined these functions, now we can call the <code>walk</code> function and get a trajectory</p>
<pre data-role="codeBlock" data-info="julia" class="language-julia"><span class="token comment"># CodeBlock8.</span>
walk<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>
</pre><p>You will get following output</p>
<pre data-role="codeBlock" data-info="julia" class="language-julia">julia<span class="token operator">&gt;</span> walk<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>
<span class="token comment"># 101-element Array{Int64,1}:</span>
<span class="token comment">#    0</span>
<span class="token comment">#   -1</span>
<span class="token comment">#   -2</span>
<span class="token comment">#   -3</span>
<span class="token comment">#   -4</span>
<span class="token comment">#   -5</span>
<span class="token comment">#   -4</span>
<span class="token comment">#   -3</span>
<span class="token comment">#   -4</span>
<span class="token comment">#    &#x22EE;</span>
<span class="token comment">#  -11</span>
<span class="token comment">#  -10</span>
<span class="token comment">#   -9</span>
<span class="token comment">#   -8</span>
<span class="token comment">#   -9</span>
<span class="token comment">#  -10</span>
<span class="token comment">#   -9</span>
<span class="token comment">#  -10</span>

</pre><p>It will be a vector of dimension 101, and the very first element is the initialized position, then all the rests are the positions of the walker that moved on. So essentially the whole vector is a trajectory. We can also transpose the vector using <code>&apos;</code>,</p>
<pre data-role="codeBlock" data-info="julia" class="language-julia"><span class="token comment"># CodeBlock9.</span>
walk<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token operator">&apos;</span>   <span class="token comment"># &quot;&apos;&quot; means &quot;transpose&quot;; this is just to save space</span>
</pre><p>Now let&apos;s plot the trajectory</p>
<pre data-role="codeBlock" data-info="julia" class="language-julia"><span class="token comment"># CodeBlock10.</span>
<span class="token keyword">using</span> Plots <span class="token comment">## you need to install Plots and then use it</span>
<span class="token keyword">using</span> Random <span class="token comment">## this package is pre-installed but you need to bring it</span>
Random<span class="token punctuation">.</span>seed<span class="token operator">!</span><span class="token punctuation">(</span><span class="token number">6561</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">## this will set the seed, and we can reproduce the same walk</span>
plot<span class="token punctuation">(</span>walk<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">## plot one random walk</span>
plot<span class="token operator">!</span><span class="token punctuation">(</span>walk<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">## plot another independent random walk, notice the bang will plot on top</span>
</pre><img title="Random Walks" src="img/random_walk_1.png" alt="random walk" style="width:600px; height:400px;">
<blockquote>
<p>Figure: Random walks</p>
</blockquote>
<p>We can also plot multiple random walks using a loop</p>
<pre data-role="codeBlock" data-info="julia" class="language-julia"><span class="token comment"># CodeBlock11.</span>
p <span class="token operator">=</span> plot<span class="token punctuation">(</span>legend<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">)</span>  <span class="token comment"># this will create and empty plot and turn off the legend/key</span>

<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token number">1</span><span class="token punctuation">:</span><span class="token number">10</span>
    plot<span class="token operator">!</span><span class="token punctuation">(</span>walk<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># plot! adds to the existing plot (modify existing plot)end</span>
<span class="token keyword">end</span>


<span class="token comment">## if you just finish here you will see nothing? Why it is printing nothing?</span>
<span class="token comment">## This is because in julia forloop returns nothing!</span>


<span class="token comment"># so we need to run this</span>
  p

<span class="token comment"># or we can also run this</span>

plot<span class="token operator">!</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># this will add nothing on the current plot</span>
<span class="token comment"># p</span>
</pre><h2 class="mume-header" id="3-generalizing-the-function-for-2d-walker">3. Generalizing the function for 2D walker.</h2>

<p>But now how could we generalize the function for a 2D walker? Recall or functions once again (just to recall)</p>
<pre data-role="codeBlock" data-info="julia" class="language-julia"><span class="token comment"># CodeBlock1. (from before).</span>

<span class="token string">&quot;Simulate a walk for `T` steps.&quot;</span>
<span class="token keyword">function</span> walk<span class="token punctuation">(</span>T<span class="token punctuation">)</span>
    pos <span class="token operator">=</span> initialize<span class="token punctuation">(</span><span class="token punctuation">)</span>
    
    trajectory <span class="token operator">=</span> <span class="token punctuation">[</span>pos<span class="token punctuation">]</span>    <span class="token comment"># make a Vector that contains just the current value of `pos`</span>
    
    <span class="token keyword">for</span> t <span class="token keyword">in</span> <span class="token number">1</span><span class="token punctuation">:</span>T
        new_pos <span class="token operator">=</span> move<span class="token punctuation">(</span>pos<span class="token punctuation">)</span>
        push<span class="token operator">!</span><span class="token punctuation">(</span>trajectory<span class="token punctuation">,</span> new_pos<span class="token punctuation">)</span>   <span class="token comment"># append to the Vector</span>
        
        pos <span class="token operator">=</span> new_pos     <span class="token comment"># update for next iteration</span>
    <span class="token keyword">end</span>
    
    <span class="token keyword">return</span> trajectory
<span class="token keyword">end</span>

<span class="token comment"># CodeBlock4. (from before).</span>
<span class="token comment"># 1D walker</span>
initialize<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">0</span> 
random_jump<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> rand<span class="token punctuation">(</span> <span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">)</span> 
move<span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token operator">=</span> x <span class="token operator">+</span> random_jump<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&apos;</span>
</pre><p>One thing we could do is copy the <code>walk</code> function and create a new function call it <code>walk2D</code> where inside we call the newly defined <code>initialize_2D</code> and <code>move_2D</code> functions for a 2D walker. For example, we can define</p>
<pre data-role="codeBlock" data-info="julia" class="language-julia"><span class="token comment"># CodeBlock12.</span>
initialize_2D<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span>

move_2D<span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">[</span> x<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> random_jump<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> x<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">+</span> random_jump<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">]</span>  <span class="token comment"># x is a vector</span>
</pre><p>The last function will initialize a 2D point and then the move function will move from a point in a two-dimensional plane, e.g., <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><msub><mi>x</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>2</mn></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(x_1, x_2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">&#x200B;</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">&#x200B;</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> randomly. However, you can see that it cannot go to any arbitrary point in a 2D plane, if you start from <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>0</mn><mo separator="true">,</mo><mn>0</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(0, 0)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">0</span><span class="mclose">)</span></span></span></span>, then you will see that the first position could be only one of the following four positions,</p>
<ul>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mo>+</mo><mn>1</mn><mo separator="true">,</mo><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(+1,+ 1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">+</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">+</span><span class="mord">1</span><span class="mclose">)</span></span></span></span></li>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mo>+</mo><mn>1</mn><mo separator="true">,</mo><mo>&#x2212;</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(+1, -1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">+</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">&#x2212;</span><span class="mord">1</span><span class="mclose">)</span></span></span></span></li>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mo>&#x2212;</mo><mn>1</mn><mo separator="true">,</mo><mo>&#x2212;</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(-1, -1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">&#x2212;</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">&#x2212;</span><span class="mord">1</span><span class="mclose">)</span></span></span></span></li>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mo>&#x2212;</mo><mn>1</mn><mo separator="true">,</mo><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(-1, +1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">&#x2212;</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">+</span><span class="mord">1</span><span class="mclose">)</span></span></span></span></li>
</ul>
<p>So it could be one of the four corners of a square of size 2. And then from any position it will again move to either one of these 4 corners.</p>
<p align="center">
<img title="Random Walks" src="img/random_walk_2.png" alt="random walk" style="width:200px; height:200px;" align="center">
</p>
<p>Here is how we can check whether the initialize and move functions are working</p>
<pre data-role="codeBlock" data-info="julia" class="language-julia"><span class="token comment"># CodeBlock13.</span>
initialize_2D<span class="token punctuation">(</span><span class="token punctuation">)</span>
move_2D<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><p>Now we can copy+paste the last function and can define another function</p>
<pre data-role="codeBlock" data-info="julia" class="language-julia"><span class="token comment"># CodeBlock14.</span>

<span class="token string">&quot;Simulate a walk for `T` steps.&quot;</span>
<span class="token keyword">function</span> walk2D<span class="token punctuation">(</span>T<span class="token punctuation">)</span>
    pos <span class="token operator">=</span> initialize_2D<span class="token punctuation">(</span><span class="token punctuation">)</span>
    
    trajectory <span class="token operator">=</span> <span class="token punctuation">[</span>pos<span class="token punctuation">]</span>    <span class="token comment"># make a Vector that contains just the current value of `pos`</span>
    
    <span class="token keyword">for</span> t <span class="token keyword">in</span> <span class="token number">1</span><span class="token punctuation">:</span>T
        new_pos <span class="token operator">=</span> move_2D<span class="token punctuation">(</span>pos<span class="token punctuation">)</span>
        push<span class="token operator">!</span><span class="token punctuation">(</span>trajectory<span class="token punctuation">,</span> new_pos<span class="token punctuation">)</span>   <span class="token comment"># append to the Vector</span>
        
        pos <span class="token operator">=</span> new_pos     <span class="token comment"># update for next iteration</span>
    <span class="token keyword">end</span>
    
    <span class="token keyword">return</span> trajectory
<span class="token keyword">end</span>


walk2D<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>
</pre><p>If you run this you will get following output</p>
<pre data-role="codeBlock" data-info="julia" class="language-julia">julia<span class="token operator">&gt;</span> walk2D<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>
<span class="token comment"># 101-element Array{Array{Int64,1},1}:</span>
<span class="token comment">#  [0, 0]</span>
<span class="token comment">#  [1, 1]</span>
<span class="token comment">#  [2, 0]</span>
<span class="token comment">#  [3, -1]</span>
<span class="token comment">#  [2, -2]</span>
<span class="token comment">#  [1, -3]</span>
<span class="token comment">#  [2, -4]</span>
<span class="token comment">#  [3, -5]</span>
<span class="token comment">#  [2, -4]</span>
<span class="token comment">#  [3, -5]</span>
<span class="token comment">#  &#x22EE;</span>
<span class="token comment">#  [18, 16]</span>
<span class="token comment">#  [17, 15]</span>
<span class="token comment">#  [18, 14]</span>
<span class="token comment">#  [17, 15]</span>
<span class="token comment">#  [16, 16]</span>
<span class="token comment">#  [17, 17]</span>
<span class="token comment">#  [16, 18]</span>
<span class="token comment">#  [17, 17]</span>
<span class="token comment">#  [16, 18]</span>
</pre><p>But does this idea a good idea? In fact this is actually a <strong>terrible</strong> idea. If someone asks you now to create a 3D walker what would you do? Again copy+paste? Is it not possible to write a general function which will work in any dimension? Indeed we can do this. The key <strong>idea</strong> is  we can <em>pass these 2D functions as arguments</em> to the <code>walk</code> function and then whatever dimension, the initialization and move takes place, our walk function will be able to handle that. Here is how we can do</p>
<pre data-role="codeBlock" data-info="julia" class="language-julia"><span class="token comment"># CodeBlock15.</span>
<span class="token keyword">function</span> walk<span class="token punctuation">(</span>initialize<span class="token punctuation">,</span> move<span class="token punctuation">,</span> T<span class="token punctuation">)</span>
    pos <span class="token operator">=</span> initialize<span class="token punctuation">(</span><span class="token punctuation">)</span> 
    
    trajectory <span class="token operator">=</span> <span class="token punctuation">[</span>pos<span class="token punctuation">]</span>
    
    <span class="token keyword">for</span> t <span class="token keyword">in</span> <span class="token number">1</span><span class="token punctuation">:</span>T
        pos <span class="token operator">=</span> move<span class="token punctuation">(</span>pos<span class="token punctuation">)</span> 
        <span class="token keyword">println</span><span class="token punctuation">(</span>pos<span class="token punctuation">)</span>              <span class="token comment"># *update* the value pointed to by `pos`</span>
        push<span class="token operator">!</span><span class="token punctuation">(</span>trajectory<span class="token punctuation">,</span> pos<span class="token punctuation">)</span>  
    <span class="token keyword">end</span>
    
    <span class="token keyword">return</span> trajectory
<span class="token keyword">end</span>
</pre><p>If we run above command you will see the output <code>walk (generic function with 2 methods)</code>, why is that? Now actually we have methods for the same function. We can also check this using the <code>methods</code> function</p>
<pre data-role="codeBlock" data-info="julia" class="language-julia"><span class="token comment"># CodeBlock16.</span>
methods<span class="token punctuation">(</span>walk<span class="token punctuation">)</span>
</pre><p>So what happened? We are passing the functions as arguments of another function. So how will I call this?</p>
<pre data-role="codeBlock" data-info="julia" class="language-julia"><span class="token comment"># CodeBlock 17,</span>
trajectory <span class="token operator">=</span> walk<span class="token punctuation">(</span>initialize_2D<span class="token punctuation">,</span> move_2D<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>

</pre><p>This is the output.</p>
<pre data-role="codeBlock" data-info="julia" class="language-julia">julia<span class="token operator">&gt;</span> trajectory <span class="token operator">=</span> walk<span class="token punctuation">(</span>initialize_2D<span class="token punctuation">,</span> move_2D<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>
<span class="token comment"># 11-element Array{Array{Int64,1},1}:</span>
<span class="token comment">#  [0, 0]</span>
<span class="token comment">#  [1, -1]</span>
<span class="token comment">#  [0, 0]</span>
<span class="token comment">#  [-1, -1]</span>
<span class="token comment">#  [-2, -2]</span>
<span class="token comment">#  [-3, -1]</span>
<span class="token comment">#  [-4, -2]</span>
<span class="token comment">#  [-5, -3]</span>
<span class="token comment">#  [-4, -4]</span>
<span class="token comment">#  [-3, -3]</span>
<span class="token comment">#  [-2, -2] </span>
</pre><p>so we have an array of arrays!</p>
<pre data-role="codeBlock" data-info="julia" class="language-julia">julia<span class="token operator">&gt;</span> trajectory<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
<span class="token comment"># 2-element Array{Int64,1}:</span>
<span class="token comment">#  0</span>
<span class="token comment">#  0</span>

</pre><p>&#x270B; Question: What if we redefine the old <code>initialize</code> and <code>move</code> function with the 2D version? Will we have two methods?</p>
<p>&#x270D;&#xFE0F; NO! because the argument is same, it will redefine the old function!</p>
<blockquote>
<p>For short vectors of fixed length like this, you should use <code>SVector</code>s from the <a href="https://github.com/JuliaArrays/StaticArrays.jl"><code>StaticArrays.jl</code></a> package to get much better performance. Try this out!</p>
</blockquote>
<h2 class="mume-header" id="exercises">Exercises</h2>

<p>Try to solve the following exercises,</p>
<h3 class="mume-header" id="1-two-walkers-in-1d">1. Two walkers in 1D</h3>

<ol>
<li>
<p>Suppose there are two walkers in 1D, one of which starts at position 0 and the other of which starts at position 2. How long does it take for them to meet each other, i.e. to land on the same location? Write a function <code>encounter</code> that runs <em>until</em> they meet each other and returns the number of steps.</p>
</li>
<li>
<p>Run this function many times and accumulate the resulting times in a vector.</p>
</li>
<li>
<p>Plot the histogram of the result. How does it behave?</p>
</li>
<li>
<p>How do these results change if the walkers live inside a box, e.g. from -20 to 20. At the ends of the box if they try to jump outside the box they &quot;bounce back&quot; and move one step back in the next step!</p>
</li>
</ol>
<h2 class="mume-header" id="counting-the-number-of-times-the-walker-passes-a-point">Counting the number of times the walker passes a point</h2>

<p>Let&apos;s think about How many times does a walker w pass through the origin up to some final time? Now suppose we would like a random walker to have some &quot;knowledge&quot;, for example, we want it to keep track of how many times it has passed through the origin. This is data that we somehow want to &quot;associate to&quot; the walker, which will need to be stored in a variable somewhere. The walker should be able to &quot;remember&quot; and modify this information.</p>
<p>In our above formulation it is not clear how to do this. We need to set up this variable to contain the initial position in the <code>initialize</code> function, and then update it in the <code>move</code> function, so this data needs to be shared between these two functions.</p>
<p>There are two common ways to deal with this:</p>
<ul>
<li>
<p><strong>Global variables</strong>, which live outside any function and are updated inside each function. However, this means that the functions can no longer be understood just by looking at their definition, and it allows outside influences to modify the data.</p>
<blockquote>
<p>Global variables make bad code that is hard to read and understand. Avoid them!</p>
</blockquote>
</li>
</ul>
<p>Actually there is a better solution, where we can make different walkers and refer to them individually.</p>
<h2 class="mume-header" id="references">References</h2>

<ol>
<li>David Sander&apos;s JuliaCon 2020 lecture title <a href="https://www.youtube.com/watch?v=k0fr7XjH1_Y&amp;t=8891s">Learn Julia via Epidemic Modeling
</a></li>
</ol>
<p>There are some more details on counting, which I skipped, you can look at this if you are interested.</p>
<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script type="text/x-mathjax-config"> MathJax.Hub.Config({ tex2jax: {inlineMath: [['$', '$']]}, messageStyle: "none" });</script>
      </div>
      
      
    
    
    
    
    
    
    
    
  
    </body></html>